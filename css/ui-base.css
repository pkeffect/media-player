/* VERSION: 1.8.0 */
/* css/ui-base.css */
/* Common UI Elements: Buttons, Badges, Inputs, Context Menu, Toast */

/* --- Focus Accessibility --- */
:focus-visible {
    outline: 2px solid var(--highlight);
    outline-offset: 2px;
}

/* High Contrast Mode Support */
@media (forced-colors: active) {
    :focus-visible {
        outline: 2px solid CanvasText;
    }
}

/* --- Common Buttons --- */
.icon-btn {
    background: none; border: none; cursor: pointer; color: var(--accent);
    width: 36px; height: 36px;
    /* TOUCH TARGET FIX: Ensure clickable area is at least 44px */
    min-width: 44px;
    min-height: 44px;
    display: flex; justify-content: center; align-items: center;
    opacity: 0.9; transition: all 0.2s; position: relative;
    flex-shrink: 0;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
}
.icon-btn:hover { opacity: 1; transform: scale(1.1); }
.icon-btn.active { color: var(--highlight); }
.icon-btn.small { width: 30px; height: 30px; min-width: 44px; min-height: 44px; }

.icon-btn svg { width: 24px; height: 24px; fill: currentColor; pointer-events: none; }

.badge {
    font-size: 0.6rem;
    background: var(--highlight);
    color: #fff;
    padding: 1px 3px;
    border-radius: 2px;
    position: absolute;
    bottom: 4px;
    right: 4px;
    pointer-events: none;
}

.select-wrapper select {
    background: #111; color: #fff; border: 1px solid #444; border-radius: 4px; padding: 8px; outline: none; cursor: pointer; min-height: 44px;
}

/* --- EQ Preset Select --- */
.eq-preset-select {
    background: #222;
    color: #eee;
    border: 1px solid #444;
    border-radius: 4px;
    padding: 8px 8px;
    font-size: 0.8rem;
    outline: none;
    cursor: pointer;
    font-weight: 500;
    margin-right: 10px;
    text-transform: uppercase;
    min-height: 44px;
}
.eq-preset-select:hover {
    border-color: var(--highlight);
}

/* --- Context Menu --- */
#context-menu { position: absolute; display: none; background: #1a1a1a; border: 1px solid #333; border-radius: 6px; z-index: 1000; min-width: 150px; padding: 4px 0; }
#context-menu.visible { display: block; }
.menu-item { padding: 12px 16px; color: #eee; cursor: pointer; display: flex; gap: 8px; font-size: 0.9rem; min-height: 44px; align-items: center; }
.menu-item:hover { background: #333; }
.menu-item svg { fill: currentColor; }

/* --- Drop Overlay --- */
#drop-overlay { position: absolute; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:20; display:flex; justify-content:center; align-items:center; opacity:0; pointer-events:none; transition:opacity 0.2s; }
#drop-overlay.active { opacity: 1; }
.drop-message { color:#fff; display:flex; flex-direction:column; align-items:center; font-size:1.2rem; }

/* --- Toast --- */
#notification-toast { 
    position:absolute; 
    top:30px; 
    background:rgba(229,57,53,0.95); 
    color:#fff; 
    padding:14px 24px; 
    border-radius:6px; 
    opacity:0; 
    transform:translateY(-20px); 
    transition:all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
    z-index: 20000; 
    box-shadow: 0 4px 12px rgba(0,0,0,0.5);
    font-weight: 500;
    pointer-events: none;
}
#notification-toast.visible { opacity:1; transform:translateY(0); pointer-events: auto; }
#notification-toast.high-priority { border-left: 4px solid #fff; }

@media (max-width: 768px) {
    #notification-toast { top: 10px; left: 50%; transform: translateX(-50%) translateY(-20px); width: 90%; text-align: center; }
    #notification-toast.visible { transform: translateX(-50%) translateY(0); }
}